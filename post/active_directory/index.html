<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Active Directory Wikipedia Active Directory (AD) is a directory service developed by Microsoft for Windows domain networks. Windows Server operating systems include it as a set of processes and services.[1][2] Originally, only centralized domain management used Active Directory. However, it ultimately became an umbrella title for various directory-based identity-related services.[3]\nChatGPT Active Directory (AD) is a centralized directory and identity management system used in Windows-based networks. It allows organizations to manage users, computers, permissions, and security policies from one place.\n"><title>Active Directory Lab</title><link rel=canonical href=https://nick-graves.github.io/post/active_directory/><link rel=stylesheet href=/scss/style.min.833d6eed45de56f48306bf57268d5b8cdfc8a60e8e7bdc99810464fcd033f7c6.css><meta property='og:title' content="Active Directory Lab"><meta property='og:description' content="Active Directory Wikipedia Active Directory (AD) is a directory service developed by Microsoft for Windows domain networks. Windows Server operating systems include it as a set of processes and services.[1][2] Originally, only centralized domain management used Active Directory. However, it ultimately became an umbrella title for various directory-based identity-related services.[3]\nChatGPT Active Directory (AD) is a centralized directory and identity management system used in Windows-based networks. It allows organizations to manage users, computers, permissions, and security policies from one place.\n"><meta property='og:url' content='https://nick-graves.github.io/post/active_directory/'><meta property='og:site_name' content='The D3bug Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='active-directory'><meta property='article:tag' content='windows'><meta property='article:tag' content='Security'><meta property='article:published_time' content='2026-01-07T09:57:52-08:00'><meta property='article:modified_time' content='2026-01-07T09:57:52-08:00'><meta property='og:image' content='https://nick-graves.github.io/post/images/active_directory.jpg'><meta name=twitter:title content="Active Directory Lab"><meta name=twitter:description content="Active Directory Wikipedia Active Directory (AD) is a directory service developed by Microsoft for Windows domain networks. Windows Server operating systems include it as a set of processes and services.[1][2] Originally, only centralized domain management used Active Directory. However, it ultimately became an umbrella title for various directory-based identity-related services.[3]\nChatGPT Active Directory (AD) is a centralized directory and identity management system used in Windows-based networks. It allows organizations to manage users, computers, permissions, and security policies from one place.\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://nick-graves.github.io/post/images/active_directory.jpg'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/images/avatar.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>The D3bug Blog</a></h1><h2 class=site-description>For all the things I'm interested in and working on</h2></div></header><ol class=menu-social><li><a href=https://github.com/nick-graves target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://linkedin.com/in/nicholas-graves-0a3646234 target=_blank title=LinkedIn rel=me><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/resume/resume.pdf><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="256" height="256" viewBox="0 0 256 256"><g style="stroke:none;stroke-width:0;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:none;fill-rule:nonzero;opacity:1" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"><path d="M77.474 17.28 61.526 1.332C60.668.473 59.525.0 58.311.0H15.742c-2.508.0-4.548 2.04-4.548 4.548v80.904c0 2.508 2.04 4.548 4.548 4.548h58.516c2.508.0 4.549-2.04 4.549-4.548V20.496C78.807 19.281 78.333 18.138 77.474 17.28zM61.073 5.121l12.611 12.612H62.35c-.704.0-1.276-.573-1.276-1.277V5.121zM74.258 87H15.742c-.854.0-1.548-.694-1.548-1.548V4.548C14.194 3.694 14.888 3 15.742 3h42.332v13.456c0 2.358 1.918 4.277 4.276 4.277h13.457v64.719C75.807 86.306 75.112 87 74.258 87z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M68.193 33.319H41.808c-.829.0-1.5-.671-1.5-1.5s.671-1.5 1.5-1.5h26.385c.828.0 1.5.671 1.5 1.5S69.021 33.319 68.193 33.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M34.456 33.319H21.807c-.829.0-1.5-.671-1.5-1.5s.671-1.5 1.5-1.5h12.649c.829.0 1.5.671 1.5 1.5S35.285 33.319 34.456 33.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><linearGradient id="SVGID_4" gradientUnits="userSpaceOnUse" x1="21.8064" y1="19.2332" x2="42.2984" y2="19.2332"><stop offset="0" style="stop-color:#fff;stop-opacity:1"/><stop offset="100%" style="stop-color:#c4c4c4;stop-opacity:1"/></linearGradient><line x1="-10.246" y1="0" x2="10.246" y2="0" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:url(#SVGID_4);fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)"/><path d="M42.298 20.733H21.807c-.829.0-1.5-.671-1.5-1.5s.671-1.5 1.5-1.5h20.492c.829.0 1.5.671 1.5 1.5S43.127 20.733 42.298 20.733z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M68.193 44.319H21.807c-.829.0-1.5-.671-1.5-1.5s.671-1.5 1.5-1.5h46.387c.828.0 1.5.671 1.5 1.5S69.021 44.319 68.193 44.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M48.191 55.319H21.807c-.829.0-1.5-.672-1.5-1.5s.671-1.5 1.5-1.5h26.385c.828.0 1.5.672 1.5 1.5S49.02 55.319 48.191 55.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M68.193 55.319H55.544c-.828.0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h12.649c.828.0 1.5.672 1.5 1.5S69.021 55.319 68.193 55.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M68.193 66.319H21.807c-.829.0-1.5-.672-1.5-1.5s.671-1.5 1.5-1.5h46.387c.828.0 1.5.672 1.5 1.5S69.021 66.319 68.193 66.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/><path d="M68.193 77.319H55.544c-.828.0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5h12.649c.828.0 1.5.672 1.5 1.5S69.021 77.319 68.193 77.319z" style="stroke:none;stroke-width:1;stroke-dasharray:none;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;fill:#c4c4c4;fill-rule:nonzero;opacity:1" transform="matrix(1 0 0 1 0 0)" stroke-linecap="round"/></g></svg>
<span>Resume</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#wikipedia>Wikipedia</a></li><li><a href=#chatgpt>ChatGPT</a></li><li><a href=#what-does-this-mean>What does this mean?</a></li><li><a href=#ad-basics>AD Basics</a></li><li><a href=#1-set-up-the-vms>1. Set up the VMs</a></li><li><a href=#2-windows-server-config>2. Windows Server Config</a></li><li><a href=#3-basic-ad-config>3. Basic AD Config</a></li><li><a href=#4-configure-the-client>4. Configure the Client</a></li><li><a href=#5-move-workstation-to-workstations-ou>5. Move Workstation to Workstations OU</a></li><li><a href=#6-final-test>6. Final Test</a></li></ul></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/active_directory/><img src=/post/images/active_directory.jpg loading=lazy alt="Featured image of post Active Directory Lab"></a></div><div class=article-details><header class=article-category><a href=/categories/security/>Security</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/active_directory/>Active Directory Lab</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2026-01-07T09:57:52-08:00>Jan 07, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>6 minute read</time></div></footer></div></header><section class=article-content><h1 id=active-directory>Active Directory</h1><h2 id=wikipedia>Wikipedia</h2><blockquote><p>Active Directory (AD) is a directory service developed by Microsoft for Windows domain networks. Windows Server operating systems include it as a set of processes and services.[1][2] Originally, only centralized domain management used Active Directory. However, it ultimately became an umbrella title for various directory-based identity-related services.[3]</p></blockquote><h2 id=chatgpt>ChatGPT</h2><blockquote><p>Active Directory (AD) is a centralized directory and identity management system used in Windows-based networks. It allows organizations to manage users, computers, permissions, and security policies from one place.</p></blockquote><h2 id=what-does-this-mean>What does this mean?</h2><p>Active Directory is a term that I have encountered a few times. But every time it is accompanied by a vague and wide sweeping definition like the ones seen above leaving me with an arms length understanding. So today I am going to attempt to squash my ignorance and implement a very VERY basic AD network. The plan is to create a a few virtual machines to simulate a basic network with AD governing it.</p><h2 id=ad-basics>AD Basics</h2><p>Before I begin I want to familiarize myself with some AD terminology.</p><ul><li><strong>Domain Controller (DC)</strong>: The server that is running AD and holds the directory database.</li><li><strong>Domain</strong>: A logical boundary that contains objects such as users, computers, and groups, and provides centralized authentication and authorization.</li><li><strong>Tree</strong>: A collection of domains with contiguous namespace (sales.corp.com & engineering.corp.com).<ul><li>Namespace refers to the &ldquo;corp&rdquo; in that domain. Both sales and engineering both share the same namespace</li></ul></li><li><strong>Forest</strong>: A collection of one or more trees</li><li><strong>Organization Unit (OU)</strong>: A container within a domain that organizes users computers or other OUs.</li></ul><h2 id=1-set-up-the-vms>1. Set up the VMs</h2><p>I will begin with only two VMs.</p><ol><li><strong>Windows server 2022</strong>: This will be my DC.</li><li><strong>Windows 11</strong>: This will be the workstation.</li></ol><p>VirtualBox by Oracle with be my hypervisor of choice. Setting these up is pretty straight forward. Just downloading the ISOs from the Microsoft website and configuring the system requirements for each system.</p><p>One small &ldquo;gotcha&rdquo; here is ensuring that both VMs are on the same virtual network. Under the &ldquo;network&rdquo; tab of each VM you can configure the network setting for each system. The default is &ldquo;NAT&rdquo;. NAT lets your VM access external networks (like the internet) by sharing the host machine’s IP address. This will not work for us since other machines cannot initiate connection to the VM. We will need to select &ldquo;Internal Network&rdquo;. This creates a private virtual switch inside VirtualBox. This means our devices cannot connect to the outside internet but they can connect to each other.</p><h2 id=2-windows-server-config>2. Windows Server Config</h2><p>We begin with the basic set up, language, region, installation type, etc. The key here is the administrator password. This will function as our master password and allow us access into the DC to configure everything else. It has access to just about everything so I kept it very secure by setting it as &ldquo;Adminpass123&rdquo;. Upon reboot we can now login as the administrator. For simplicity sake I renamed this machine to DC01.</p><p>Now it is time to configure the network. The first thing we will do is set up a static IP. But first we must get out network adapter which, in powershell can be done with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Get-NetAdapter
</span></span></code></pre></div><p>Taking note of the name of this adapter, we can now reconfigure. We can rename it to a name of our choosing and also set up our IP address and our subnet mask. In this case I&rsquo;m using <code>192.168.50.10</code> and a subnet mask of the first 24 bits. In laymans terms, this just means all devices on this subnet can only change values after the last &ldquo;.&rdquo;.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>New-NetIPAddress `
</span></span><span style=display:flex><span>  -InterfaceAlias <span style=color:#e6db74>&#34;Ethernet0&#34;</span> `
</span></span><span style=display:flex><span>  -IPAddress <span style=color:#ae81ff>192.168</span>.50.10 `
</span></span><span style=display:flex><span>  -PrefixLength <span style=color:#ae81ff>24</span>
</span></span></code></pre></div><p>Now we will configure DNS. This is critical for AD. This DC will act as the DNS server for the rest of the network. If we use a basic DNS server like Google&rsquo;s <code>8.8.8.8</code> it will have no way of finding our other devices. Fortunately, this is much easier than I originally thought. All it takes is the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Set-DnsClientServerAddress `
</span></span><span style=display:flex><span>  -InterfaceAlias <span style=color:#e6db74>&#34;Ethernet0&#34;</span> `
</span></span><span style=display:flex><span>  -ServerAddresses <span style=color:#ae81ff>192.168</span>.50.10
</span></span></code></pre></div><p>Now we must turn this server into the DC. We still don&rsquo;t have Active Directory Domain Services installed. So we will do that with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Install-WindowsFeature AD-Domain-Services,DNS -IncludeManagementTools
</span></span></code></pre></div><p>Now we promote our machine to DC. We will do this by creating a new <a class=link href=##AD-Basics>forest</a>. Within our forest, our current machine is the DC and the DNS server. Once again, we are forced to reboot. After rebooting we can login back in as the admin and double check everything is working with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Get-Service ADWS
</span></span><span style=display:flex><span>Get-Service DNS
</span></span><span style=display:flex><span>Get-ADDomain
</span></span></code></pre></div><h2 id=3-basic-ad-config>3. Basic AD Config</h2><p>Now we will create some basic <a class=link href=##AD-Basics>organization units</a>. One for workstations, one for users, and one for groups. That can be done with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>New-ADOrganizationalUnit -Name <span style=color:#e6db74>&#34;Workstations&#34;</span> -Path <span style=color:#e6db74>&#34;DC=lab,DC=local&#34;</span>
</span></span><span style=display:flex><span>New-ADOrganizationalUnit -Name <span style=color:#e6db74>&#34;Users&#34;</span> -Path <span style=color:#e6db74>&#34;DC=lab,DC=local&#34;</span>
</span></span><span style=display:flex><span>New-ADOrganizationalUnit -Name <span style=color:#e6db74>&#34;Groups&#34;</span> -Path <span style=color:#e6db74>&#34;DC=lab,DC=local&#34;</span>
</span></span></code></pre></div><p>We can verifying their creation with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Get-ADOrganizationalUnit -Filter *
</span></span></code></pre></div><p>We can now create our first users, lets call her Alice:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>New-ADUser `
</span></span><span style=display:flex><span>  -Name <span style=color:#e6db74>&#34;Alice Johnson&#34;</span> `
</span></span><span style=display:flex><span>  -SamAccountName ajohnson `
</span></span><span style=display:flex><span>  -UserPrincipalName ajohnson@lab.local `
</span></span><span style=display:flex><span>  -Path <span style=color:#e6db74>&#34;OU=Users,DC=lab,DC=local&#34;</span> `
</span></span><span style=display:flex><span>  -AccountPassword (Read-Host -AsSecureString <span style=color:#e6db74>&#34;Password&#34;</span>) `
</span></span><span style=display:flex><span>  -Enabled $true
</span></span></code></pre></div><p>We can create a group as well:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>New-ADGroup `
</span></span><span style=display:flex><span>  -Name <span style=color:#e6db74>&#34;IT-Admins&#34;</span> `
</span></span><span style=display:flex><span>  -GroupScope Global `
</span></span><span style=display:flex><span>  -GroupCategory Security `
</span></span><span style=display:flex><span>  -Path <span style=color:#e6db74>&#34;OU=Groups,DC=lab,DC=local&#34;</span>
</span></span></code></pre></div><p>Then we can add lovely Alice to our newly created group:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Add-ADGroupMember -Identity <span style=color:#e6db74>&#34;IT-Admins&#34;</span> -Members ajohnson
</span></span></code></pre></div><p>This create simplicity when applying security rules. If we were to get a new IT admin, we wouldn&rsquo;t need to find all of Alice&rsquo;s permission and copy them over to this new user we could simply add them to the already created IT-Admins group and this would be automatically done. This way we don&rsquo;t have to mange users, we can just worry about groups. Similar to the principles of <a class=link href=https://en.wikipedia.org/wiki/Role-based_access_control target=_blank rel=noopener>RBAC</a>.</p><h2 id=4-configure-the-client>4. Configure the Client</h2><p>At this point, Active Directory is installed, DNS is configured, and basic directory objects exist. The final step is to introduce a client machine and allow it to authenticate against the domain. Computer Objects in Active Directory Unlike users and groups, computer objects do not need to be created manually in most environments. When a Windows machine joins a domain, Active Directory automatically creates a corresponding computer object and establishes a trust relationship between the machine and the domain controller. By default, this computer object is placed in the built-in Computers container. But we will move this into a dedicated Organizational Unit so that policies and configuration can be applied consistently.</p><p>Before joining the domain, the workstation must be able to locate the domain controller. Because Active Directory relies heavily on DNS, the workstation’s DNS server must point to the domain controller, not an external resolver. In the Windows setting we can configure a custom IP address and point to a custom DNS server using these settings:</p><pre tabindex=0><code>IP Address: 192.168.50.20
Subnet Mask: 255.255.255.0
DNS Server: 192.168.50.10
</code></pre><p>We can test connectivity of the devices using ping:</p><pre tabindex=0><code>ping 192.168.50.10
ping dc01
ping dc01.lab.local
</code></pre><p>We could now join the domain. In Windows setting we can select out domain as ``lab.local```. We then authenticate with admin credentials and reboot.</p><h2 id=5-move-workstation-to-workstations-ou>5. Move Workstation to Workstations OU</h2><p>To move this devices from the default <code>computers</code> container over to the <code>workstations</code> OU we first find the name of the computer with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Get-ADComputer -Filter *
</span></span></code></pre></div><p>Then we use that name in the following command to change its OU:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none><code class=language-powershell data-lang=powershell><span style=display:flex><span>Move-ADObject `
</span></span><span style=display:flex><span>  -Identity <span style=color:#e6db74>&#34;CN=WIN11-CLIENT,CN=Computers,DC=lab,DC=local&#34;</span> `
</span></span><span style=display:flex><span>  -TargetPath <span style=color:#e6db74>&#34;OU=Workstations,DC=lab,DC=local&#34;</span>
</span></span></code></pre></div><h2 id=6-final-test>6. Final Test</h2><p>To test everything is working as expected we can login on the workstation as Alice. At the Windows login screen we enter Alice&rsquo;s credentials and a successful login confirms:</p><ul><li>DNS working</li><li>Workstation trusted the domain</li><li>AD authentication functioned end-to-end</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/active-directory/>Active-Directory</a>
<a href=/tags/windows/>Windows</a>
<a href=/tags/security/>Security</a></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2026 The D3bug Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>